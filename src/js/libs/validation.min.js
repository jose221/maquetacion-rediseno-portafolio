class Validation{constructor(t,s={},e=[]){this.options={},this.form=t||null,this.inputs=e||[],this.options.nameClass=s.nameClass||"has-invalid",this.options.inputInvalidClass=s.inputInvalidClass||"-invalid",this.$messageListInvalids=[],document.querySelector(this.form).setAttribute("novalidate",!0)}isValid(){let e=!0,i=null;return this.#registerListMessages(),document.querySelector(this.form).querySelectorAll("input, select, textarea").forEach(t=>{let s=!0;"true"==t.getAttribute("required")&&(t.getAttribute("data-value")&&null!=t.getAttribute("data-value")?null==t.getAttribute("data-value")||""==t.getAttribute("data-value")||"null"==t.getAttribute("data-value")?s=!1:t.value=t.getAttribute("data-string")||"":s=null!=t.value&&"0"!=t.value&&""!=t.value&&"null"!=t.value&&this.#typeInput(t),s?(t.parentNode?.classList.contains(this.options.nameClass)&&t.parentNode.classList.remove(this.options.nameClass),t.classList.contains(this.options.inputInvalidClass)&&t.classList.remove(this.options.inputInvalidClass),(i=t.getAttribute("data-invalid"))&&this.#actionListInvalid(i,!1)):(e=!1,t.parentNode.classList.add(this.options.nameClass),t.classList.add(this.options.inputInvalidClass),(i=t.getAttribute("data-invalid"))&&this.#actionListInvalid(i)))}),this.showMessages(),e}validate(t=[]){let e=!0,i=null;return t.length&&t.forEach(t=>{var s=document.querySelector(t.element);t.value?(s.parentNode.classList.contains(this.options.nameClass)&&s.parentNode.classList.remove(this.options.nameClass),s.classList.contains(this.options.inputInvalidClass)&&s.classList.remove(this.options.inputInvalidClass),(i=s.getAttribute("data-invalid"))&&document.querySelector("#"+i).classList.remove("show")):(e=!1,s.parentNode.classList.add(this.options.nameClass),s.classList.add(this.options.inputInvalidClass),(i=s.getAttribute("data-invalid"))&&document.querySelector("#"+i).classList.add("show"))}),e}#actionListInvalid(t,s=!0){this.$messageListInvalids[t]=this.$messageListInvalids[t]||0,s?this.$messageListInvalids[t]++:this.$messageListInvalids[t]--}getListInvalid(){return this.$messageListInvalids}#registerListMessages(){this.$messageListInvalids=[],document.querySelector(this.form).querySelectorAll("input, select").forEach(t=>{"true"==t.getAttribute("required")&&(t=t.getAttribute("data-invalid"))&&this.#actionListInvalid(t)})}showMessages(){for(const t in this.$messageListInvalids)0<this.$messageListInvalids[t]?document.querySelector("#"+t).classList.add("show"):document.querySelector("#"+t).classList.remove("show")}activateEventsInput(){let s=this;document.querySelector(this.form).querySelectorAll("input, select").forEach(function(t){t.addEventListener("change",function(t){s.isValid()})})}#typeInput(i){var a=i.getAttribute("type"),l=i.value;let n=!0;if(a&&l)switch(a){case"email":/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(l)||(n=!1);break;case"tel":let t=i.getAttribute("min"),s=i.getAttribute("max");let e=/^[0-9,^+\d]/;"true"==i.getAttribute("strict")&&(t=t||7,s=s||12,e=new RegExp("^[0-9,^+d]{"+t+","+s+"}$")),e.test(l)||(n=!1)}return n}}