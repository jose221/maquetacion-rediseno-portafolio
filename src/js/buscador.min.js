$("#roundFlight").click(function(){$(this).is(":checked")&&($("#cListFlights").addClass("c-round-flight"),$("#cListFlights").removeClass("c-single-flight"))}),$("#singleFlight").click(function(){$(this).is(":checked")&&($("#cListFlights").addClass("c-single-flight"),$("#cListFlights").removeClass("c-round-flight"))}),$(".evtPassengers").click(function(){$(".evtDropdown").focus().removeClass("d-none")}),$("html").click(function(){$(".evtDropdown").addClass("d-none")}),$(".evtPassengers").click(function(t){t.stopPropagation()}),$(".evtMinors1").click(function(){$(".evtTitle1").toggleClass("cm-title"),$(".evtDropdown1").toggleClass("d-none"),$(".evtYears1").addClass("d-none"),$(".evtTitle1").removeClass("position-absolute")}),$(".evtList1_1").click(function(){$(".evtYears1").removeClass("d-none"),$(".evtTitle1").addClass("position-absolute"),$(".evtDropdown1").toggleClass("d-none"),$(".evtTitle1").addClass("cm-title")}),$(".evtMinors2").click(function(){$(".evtTitle2").toggleClass("cm-title"),$(".evtDropdown2").toggleClass("d-none"),$(".evtYears2").addClass("d-none"),$(".evtTitle2").removeClass("position-absolute")}),$(".evtList2_1").click(function(){$(".evtYears2").removeClass("d-none"),$(".evtTitle2").addClass("position-absolute"),$(".evtDropdown2").toggleClass("d-none"),$(".evtTitle2").addClass("cm-title")}),$("#viewDetail").click(function(){$("#containerDetail").toggleClass("d-block")}),$("#viewDetailMobile").click(function(){$("#containerDetail").toggleClass("d-block")}),$("#detailClose").click(function(){$("#containerDetail").toggleClass("d-block")}),$("#cBrandFlight").click(function(){$(".evtHideMobile").toggleClass("d-none")});var owl=$("#carousel-1");owl.owlCarousel({navText:['<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGdJREFUeNpiYCAMDID4PRQ7MFABwAz8D8UN1DYQxFagtoEGowYOnIGMUM37gVgASXwDEF8kw7wPQLwAxLiP5EJq4AYmBuqDD9T2/gOY92kS86MGD6zBCrQwuIFaidkAmuuIDgKAAAMA92Jbt0ySZLIAAAAASUVORK5CYII="/>','<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGpJREFUeNpiYCAOGADxeyC+D2VTBTQA8X8ofk8tgxWghlHdYINRgwfOYEaoggRoDJMK9IE4AIn/AYgdQYwCJNuoge8zAQkBBioDRqihCWQajtP7gyYFjBpIuYE0KfpoUkg7QA0jykCAAAMACchXF/ysp2kAAAAASUVORK5CYII="/>'],dots:!0,stagePadding:50,margin:15,nav:!0,loop:!0,responsive:{0:{items:1},600:{items:2}}});const now=new Date;let section="flights";function actionButtonTransport(t){t.addEventListener("change",function(t){var e=t.target.getAttribute("data-value");if(console.log("#transporte-"+section),t.target.checked)switch(document.querySelector("#transporte-"+section).value=e){case"redondo":document.querySelector("#fOrigin, #fDestination").classList.remove("col-lg-3"),document.querySelector("#fReturn").classList.remove("d-none"),document.querySelector("#fGoing").classList.remove("c-going","col-md-12","col-lg-2"),document.querySelector("#fReturn").querySelector("input").setAttribute("required",!0);break;case"unavia":document.querySelector("#fOrigin, #fDestination").classList.add("col-lg-3"),document.querySelector("#fReturn").classList.add("d-none"),document.querySelector("#fGoing").classList.add("c-going","col-md-12","col-lg-2"),document.querySelector("#fReturn").querySelector("input").removeAttribute("required")}})}async function init(){listAgeChilds=ageChildFlights;var e=new Lightpick({field:document.getElementById("to_calendar"),separator:"/",numberOfMonths:2});new Lightpick({field:document.getElementById("from_calendar"),separator:"/",numberOfMonths:2,minDate:now,startDate:now,onSelect:function(t){console.log(t.toString("YYYY/MM/DD")),e.reloadOptions({minDate:t.toString("YYYY/MM/DD")}),e.show()}}),new Lightpick({format:"YYYY/MM/DD",separator:"/",field:document.getElementById("start_date_hotels"),numberOfMonths:2,secondField:document.getElementById("end_date_hotels"),minDate:now,repick:!0}),new Lightpick({format:"YYYY/MM/DD",separator:"/",field:document.getElementById("start_date_packages"),numberOfMonths:2,secondField:document.getElementById("end_date_packages"),minDate:now,repick:!0})}function actionPassagers(t,e){t.setAttribute("data-value",e),t.querySelector("span").innerText=e,t.querySelector("input")&&(t.querySelector("input").value=e),console.log(t),displayPassagers(t,e)}function displayPassagers(t,e){text="";var a=section,a=document.querySelector(`#${t.getAttribute("data-type")}-`+a).value;let n=document.querySelector(`.${section}-display`);n.setAttribute("data-"+t.getAttribute("data-type"),a),n.value=`${n.getAttribute("data-adult")} adultos${0<Number.parseInt(n.getAttribute("data-minor"))?`, ${n.getAttribute("data-minor")} menores`:""} ${0<Number.parseInt(n.getAttribute("data-rooms"))?`, ${n.getAttribute("data-rooms")} habitaciones`:""}
        
        `}function eventMinor(t,e,a=1){var n=t.getAttribute("data-type"),i=section;switch(e){case"plus":document.querySelector(`#${n}-`+i).value=Number.parseInt(document.querySelector(`#${n}-`+i).value)+a;break;case"minus":document.querySelector(`#${n}-`+i).value=Number.parseInt(document.querySelector(`#${n}-`+i).value)-a}}function addAgeMinor(t,n){const i=document.createElement("div");i.setAttribute("class",`col-12 font-14  item-minor-${t.getAttribute("data-target")} mt-1`),new_input="",new_input=t.getAttribute("data-list")?addInput(`${t.getAttribute("data-name")}[${t.getAttribute("data-list")}].MinorsAges[${n-1}].Years`,"","",!0):addInput("edad"+n,"","",!0);let e=`<div id="cMinors_${n}" class="c-minors w-100 position-relative rounded evtMinors1 -cp-pointer">
                                                                <span id="cTitle_${n}" class="c-title evtTitle1 -pe-none" data-value="0">Menor 1</span>
                                                                <!--<span id="cYears_1" class="c-title d-none evtYears1">2 años</span>-->
                                                                <span id="iExpand_${n}" class="icon icon-expand font-24 -pe-none"></span>
                                                                ${new_input}
                                                            </div>
                                                            <div id="cmDropdown_${n}" class="c-minors-dropdown py-2 d-none evtDropdown1">
                                                               `;listAgeChilds.forEach(t=>{e+=`<div id="cList_${n}_${t.value}" class="c-list" data-value="${t.value}">${t.name}</div>`}),e+="</div>",i.innerHTML=e,document.querySelector(".list-minor-"+t.getAttribute("data-target")).appendChild(i),i.querySelector("#cMinors_"+n).addEventListener("click",function(e){let a=i.querySelector("#cmDropdown_"+n);a.classList.toggle("d-none"),a.querySelectorAll(".c-list").forEach(function(t){t.addEventListener("click",function(t){console.log(e.target),e.target.querySelector("#cTitle_"+n).innerText=t.target.innerText,e.target.querySelector("#cTitle_"+n).setAttribute("data-value",t.target.getAttribute("data-value")),e.target.querySelector(`#cMinors_${n} input`).value=t.target.getAttribute("data-value"),a.classList.add("d-none")})})})}function removeAgeMinor(t,e){let a=document.querySelectorAll(".item-minor-"+t.getAttribute("data-target"));a[e].remove()}function actionBtnPassgers(t){t.addEventListener("click",function(t){let e=t.target,a=document.querySelector(`.${e.getAttribute("data-target")} .${e.getAttribute("data-type")}-value`);switch(console.log(`.${e.getAttribute("data-target")} .${e.getAttribute("data-type")}-value`),e.getAttribute("data-action")){case"minus":if("minor"==e.getAttribute("data-type")&&a.getAttribute("data-value")-1<0)return!1;if("adult"==e.getAttribute("data-type")&&a.getAttribute("data-value")-1<1)return!1;"minor"==e.getAttribute("data-type")&&removeAgeMinor(a,Number.parseInt(a.getAttribute("data-value"))-1),eventMinor(a,e.getAttribute("data-action")),actionPassagers(a,Number.parseInt(a.getAttribute("data-value"))-1);break;case"plus":"minor"==e.getAttribute("data-type")&&addAgeMinor(a,Number.parseInt(a.getAttribute("data-value"))+1),eventMinor(a,e.getAttribute("data-action")),actionPassagers(a,Number.parseInt(a.getAttribute("data-value"))+1)}})}function eventRemoveItemList(t){var e=t.target.getAttribute("data-controls");const a=document.querySelector(e),n=a.querySelector(".minor-value"),i=a.querySelector(".adult-value");eventMinor(n,"minus",Number.parseInt(n.getAttribute("data-value"))),eventMinor(i,"minus",Number.parseInt(i.getAttribute("data-value")));let s=document.querySelector(`.${section}-display`);e=Number.parseInt(s.getAttribute("data-"+t.target.getAttribute("data-name")));s.setAttribute("data-"+t.target.getAttribute("data-name"),e-1),displayPassagers(n,n.getAttribute("data-value")),displayPassagers(i,i.getAttribute("data-value")),a.remove()}function addInput(t,e="",a="",n=!1){var i=document.querySelector(`.${section}-display`).getAttribute("aria-invalid")||"";return`<input type="text" name="${t}" class="${e}" value="${a}" hidden="true" ${n?`required="${n}" aria-invalid="${i}"`:""}>`}ageChilds=[{name:"1 año",value:1},{name:"2 años",value:2},{name:"3 años",value:3},{name:"4 años",value:4},{name:"5 años",value:5},{name:"6 años",value:6},{name:"7 años",value:7},{name:"8 años",value:8},{name:"9 años",value:9},{name:"10 años",value:10},{name:"11 años",value:11},{name:"12 años",value:12},{name:"13 años",value:13},{name:"14 años",value:14},{name:"15 años",value:15},{name:"16 años",value:16},{name:"14 años",value:17}],ageChildFlights=[{name:"0 a 24 meses(En brazos)",value:1},{name:"0 a 24 meses(En asiento)",value:2},{name:"2 a 11 años",value:3}],document.querySelectorAll("#tabs-options-buscador a").forEach(function(t){t.addEventListener("click",function(t){switch(section=t.target.getAttribute("aria-controls")){case"hotels":window.widgetMain.switchEngine("Hotel",!1),listAgeChilds=ageChilds;break;case"packages":window.widgetMain.switchEngine("FlightPackage",!1),listAgeChilds=ageChilds;break;case"flights":listAgeChilds=ageChildFlights}console.log(section)})}),document.querySelectorAll(".btn-transport").forEach(actionButtonTransport),init(),document.querySelectorAll(".btn-passengers").forEach(actionBtnPassgers),document.querySelectorAll(".btn-add-list").forEach(function(t){t.addEventListener("click",function(t){var e=t.target.getAttribute("data-target"),a=t.target.getAttribute("data-action"),n=t.target.getAttribute("data-type"),t=t.target.getAttribute("data-name");let i=document.querySelector(a);a=Number.parseInt(i.getAttribute("data-list"))+1;i.setAttribute("data-list",a);let s=document.querySelector(`.${section}-display`);s.setAttribute("data-"+t,a+1);const o=document.createElement("div");o.setAttribute("class",`item-${n}-`+(e+a)),o.setAttribute("data-index",a);t=`<!-- start adults -->
                                                    <div class="row mb-3">
                                                     <div class="col-12 font-14 mt-2 mb-3 d-flex justify-content-between align-items-center">
                                                                <h4 class="mb-1 font-16 f-bold">Habitación ${a+1}</h4>
                                                                <span class="color-secundary pointer remove-item-${n}-${e+a}" data-name="${t}" data-controls=".item-${n}-${e+a}" role="button">Quitar</span>
                                                            </div>
                                                        <div class="col-7 col-md-5 col-lg-7">
                                                            <span class="hotels-adult-text">Adultos</span>
                                                        </div>
                                                        <div class="col-5 col-md-7 col-lg-5 c-icons pr-4">
                                                            <div class="row hotels${a}">
                                                                <div class="col-4 px-1 text-center btn-passengers -cp-pointer" data-target="hotels${a}" data-action="minus" data-type="adult">
                                                                    <span class="icon icon-remove -pe-none"></span>
                                                                </div>
                                                                <div class="col-4 px-1 text-center adult-value" data-target="hotels${a}" data-value="2" data-type="adult">
                                                                    <span>2</span>
                                                                    ${addInput(n+`[${a}].Adults`,"",2,!0)}
                                                                </div>
                                                                <div class="col-4 px-1 text-center btn-passengers -cp-pointer" data-target="hotels${a}" data-action="plus" data-type="adult">
                                                                    <span class="icon icon-add -pe-none"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- start minors-->
                                                    <div class="row mb-3">
                                                        <div class="col-7 col-md-5 col-lg-7">
                                                            <span class="hotels-minor-text">Menores</span>
                                                        </div>
                                                        <div class="col-5 col-md-7 col-lg-5 c-icons pr-4">
                                                            <div class="row hotels${a}">
                                                                <div class="col-4 px-1 text-center btn-passengers -cp-pointer" data-target="hotels${a}" data-action="minus" data-type="minor">
                                                                    <span class="icon icon-remove -pe-none"></span>
                                                                </div>
                                                                <div data-list="${a}" data-name="${n}" class="col-4 px-1 text-center minor-value" data-target="hotels${a}" data-value="0" data-type="minor">
                                                                    <span>0</span>
                                                                    ${addInput(n+`[${a}].Minors`,"",0,!1)}
                                                                </div>
                                                                <div class="col-4 px-1 text-center btn-passengers -cp-pointer" data-target="hotels${a}" data-action="plus" data-type="minor">
                                                                    <span class="icon icon-add -pe-none"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row list-minor-hotels${a}">
                                                            <div class="col-12 font-14 mb-2">
                                                                <span>¿Cuál es su edad?</span>
                                                                <span>*</span>
                                                                <span class="font-12">(hasta 17 años)</span>
                                                            </div>
                                                        </div>`;o.innerHTML=t,o.querySelectorAll(".btn-passengers").forEach(actionBtnPassgers),o.querySelector(`.remove-item-${n}-`+(e+a)).addEventListener("click",eventRemoveItemList),eventMinor(o.querySelector(".adult-value"),"plus",2),displayPassagers(o.querySelector(".adult-value"),2),i.appendChild(o)})}),document.querySelectorAll(".btn-submit").forEach(t=>{t.addEventListener("click",function(t){t=t.target.getAttribute("data-action");console.log(t);const e=new Validation(t,{nameClass:"c-has-invalid",inputInvalidClass:"c-invalid"});e.isValid()&&document.querySelector("#"+t).querySelector('button[type="submit"]').click()})});