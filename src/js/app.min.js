function getData(){return JSON.parse(sessionStorage.getItem("data"))||{}}const headers={"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","auth-token":window.token},urlApi="http://localhost:8080";let lang=document.querySelector("html").getAttribute("lang"),data=getData();async function saveData(e){sessionStorage.setItem("data",JSON.stringify(e)),sessionStorage.setItem("lang",lang)}document.addEventListener("alpine:init",()=>{let a=sessionStorage.getItem("lang"),s=new HttpClient({baseURL:urlApi+"/api/",headers:headers});Alpine.data("myPerfil",()=>({myPerfil:{},myContacts:{},language:lang,getImage(e){let t="";return t=e?urlApi+e:t},async init(){console.time("Timer");let e=data.myPerfil,t=data.myContacts;e&&a==lang||(e=await s.get("my-information"),data.myPerfil=e),t&&a==lang||(t=await s.get("my-contacts"),data.myContacts=t),saveData(data),this.myContacts=t.data,this.myPerfil=e.data,console.log(this.myPerfil),createLazy(),this.$nextTick(()=>{console.timeEnd("Timer")})},myKnowledges:{},myKnowledges_section:!1,async geMyKnowledges(){let e=data.myKnowledges;e&&a==lang||(e=await s.get("my-knowledges"),data.myKnowledges=e),this.myKnowledges=e.data,this.myKnowledges_section=!0,saveData(data),createLazy()},portfolioCategories:{},portfolioCategories_section:!1,async getPortfolioCategories(){let e=data.portfolioCategories;e&&a==lang||(e=await s.get("my-portfolio-categories"),data.portfolioCategories=e),this.portfolioCategories=e.data,this.portfolioCategories_section=!0,saveData(data),createLazy()},professionalProjects:[],professionalProjects_section:!1,async getProfessionalProjects(){let e=data.professionalProjects;e&&a==lang||(e=await s.get("my-professional-experiences"),data.professionalProjects=e),this.professionalProjects=e.data,this.professionalProjects_section=!0,saveData(data),createLazy()}}))});var imgOptions,backgroundImgObserver,imgIntersectionObserver=null;function createLazy(){setTimeout(function(){var e=document.querySelectorAll("[lazy]"),t=document.querySelectorAll("[lazy-background]");e.forEach(e=>{imgIntersectionObserver.observe(e)}),t.forEach(e=>{backgroundImgObserver.observe(e)})},500)}"undefined"!=typeof IntersectionObserver?(imgIntersectionObserver=new IntersectionObserver((e,r)=>{e.forEach(a=>{if(!a.isIntersecting)return 0;{var s=a.target;let e={},t=!0;null!=s.getAttribute("lazy")&&(e=JSON.parse(JSON.stringify(s.getAttribute("lazy")))),(t=e&&(e?.showMaxWidth&&e?.showMaxWidth>screen.width||e?.showMinWidth&&e?.showMinWidth<screen.width)?!1:t)&&(s.getAttribute("data-src")&&(s.src=s.getAttribute("data-src")),s.classList.remove("lazy"),r.unobserve(a.target))}})},imgOptions={threshold:.2}),backgroundImgObserver=new IntersectionObserver((e,r)=>{e.forEach(a=>{if(a.isIntersecting){var s=a.target;let e={},t=!0;null!=s.getAttribute("lazy")&&(e=JSON.parse(JSON.stringify(s.getAttribute("lazy")))),(t=e&&(e?.showMaxWidth&&e?.showMaxWidth>screen.width||e?.showMinWidth&&e?.showMinWidth<screen.width)?!1:t)&&(s.style.backgroundImage="url("+s.getAttribute("data-src")+")",s.classList.remove("lazy-background"),r.unobserve(a.target))}})},imgOptions),createLazy()):(images.forEach(e=>{e.src=e.getAttribute("data-src"),e.classList.remove("lazy")}),background_images.forEach(e=>{e.style.backgroundImage="url("+e.getAttribute("data-src")+")",e.classList.remove("lazy-background")}));let validation=new Validation("#contact-form");document.querySelector("#contact-form").addEventListener("submit",function(e){e.preventDefault();e=new FormData(e.target),e=Object.fromEntries(e.entries());validation.isValid()&&new HttpClient({baseURL:urlApi+"/api/",headers:headers}).post("messages/send/"+lang,e).then(function(e){201==e.status?Alert.success(e.message,1500):Alert.error(e.message,1500)})});